@model IEnumerable<PlayListApp.Models.ViewModels.SingerSongsViewModel>
@{
    ViewBag.Title = "Home Page";
}

<div class="alert bg-light-primary border border-primary border-3 border-dashed d-flex justify-content-between w-100 p-5 mb-10">
    <div class="d-flex align-items-center">
        <div class="symbol symbol-40px me-4">
            <div class="symbol-label fs-2 fw-semibold text-success">
            </div>
        </div>
        <!--begin::Content-->
        <div class="d-flex flex-column pe-0 pe-sm-10">
            <h5 class="mb-1">Music</h5>
        </div>
        <!--end::Content-->
    </div>
    <div>
         @Html.ActionLink("Add" , "Create", "Home" ,new { }, new { @class = "btn btn-sm btn-primary" })
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-header align-items-center py-5 gap-2 gap-md-5">
        <div class="card-title">
            <div class="d-flex align-items-center position-relative my-1">
                <span class="svg-icon svg-icon-1 position-absolute ms-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                    </svg>
                </span>
                <input type="text" data-kt-filter="search" class="form-control form-control-solid w-250px ps-14" style="padding:4px 60px" placeholder="Search by Song" />
            </div>
        </div>
    </div>
    <div class="card-body pt-0">
        <div style="display:flex;justify-content:center;margin:20px">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 1 })">1</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 2 })">2</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 3 })">3</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 4 })">4</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 5 })">5</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 6 })">6</a></li>
                    <li class="page-item"><a class="page-link" href="@Url.Action("Index", "Home", new { pageIndex = 7 })">7</a></li>
                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                </ul>
            </nav>
        </div>
        <div class="table-responsive">
            <table class="table table-row-dashed table-row-gray-300 gy-2 align-middle">
                <thead>
                    <tr class="fw-bold fs-6 text-gray-800">
                        <th class="d-none"></th>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Song Name</th>
                        <th>Song Type</th>
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="6" class="text-center">
                                <div class="alert alert-warning d-flex justify-content-center align-items-center" role="alert">
                                    <i class="bi bi-exclamation-triangle"></i>
                                    No Singers found!
                                </div>
                            </td>
                        </tr>
                    }
                    else
                    {
                        foreach (var Singer in Model)
                        {
                            <tr>
                                <td>@if (Singer.Image != null)
                                {<img src="data:image/jpeg;base64,@Convert.ToBase64String(Singer.Image)" alt="singer image" style="width:100px" />}</td>
                                <td>@Singer.SingerName</td>
                                <td>@Singer.SongName</td>
                                <td>@Singer.SongType</td>
                                <td class="text-center">

                                    @Html.ActionLink("Update", "Update", "Home", new { SingerId = @Singer.SingerId }, new { @class = "btn btn-sm btn-primary" })

                                    @using (Html.BeginForm("Delete", "Home", new { SingerId = Singer.SingerId }, FormMethod.Post, new { @class = "form-inline d-inline" }))
                                    {
                                        <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this singer?');">Delete</button>
                                    }

                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>